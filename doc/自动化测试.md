
<!-- slide -->

# 自动化测试

<!-- slide -->
## 分享目标

- 让不了解自动化测试的同学有一定的了解与认知。
- 引发了解自动化测试的同学一些思考与共鸣。
- 给大家带来快乐与轻松最好还有所得。

<!-- slide -->

## 我跟自动化测试的缘分

- 「径点」初出茅庐微软龙哥带我飞。 
- 「趣店」独挑大梁承担趣店「交际花」。

<!-- 在Avepoint(径点)对自动化测试的印象由一开始的”兴奋“转为”失落“最后有转为对大家成果感到”惊讶“。
径点一家很有趣的公司，我做了一年业务一直都在更新和迭代同一个功能。对了我当年也是”小鲜肉“。
在趣店的自动测试之路，一开始感到”为难“然后信念越来越”坚定“，最后完成成果也超出我的”预期“。 -->

<!-- slide -->

## 自动测试分类

- UI测试（e2e测试）
- 接口测试
- 单元测试
- money test

<!-- slide -->

## 自动化测试目标

- 提高提测质量。
- 提高上线质量。
- 减少人力成本，减去测试和开发人员的工作量。

<!-- slide -->

## E2E测试框架一览
|项目 |Web| Star
| ---------- | ----------------------------------------------- | ----- |
| selenium   | WebDirver                                       | 18400
| nightmare  | Electron                                        | 15502 |
| nightwatch | WebDriver                                       | 8135  |
| protractor | selenium                                        | 7532  |
| casperjs   | PhantomJS                                       | 7180  |
| cypress    | Electron                                        | 5303  |
| Zombie     | 不需要                                           | 4880  |
| testcafe   | 不需要                                           | 4645  |
| CodeceptJS | webdriverio                                     | 1665  |
| CodeceptJS | webdriverio                                     | 1665  |


<!-- slide -->
## E2E测试框架总结

- 端到端测试一般都需要一个 Web 容器，来运行前端应用。例如 Chromium, Electron, PhantomJS, WebDriver 等等。
- 不同的web容器其能力也是不同的除了使用webdriver的方式其它的web容器都有局限性基本就相当于你能在一个固定的浏览器内核做测试，你可能发现还有不使用web容器但是其准确性堪忧
- 从速度的角度考虑：PhantomJS, WebDriver < Electon, Chromium ,webDriver headless
<!-- slide -->

## selenium-webdriver

重点介绍`selenium-webdriver`

- webdriver 协议现在已经成为业内公认的浏览器 ui 测试的标准实现。几乎所有浏览器厂商都推出自己官方 driver。
- 与其他 E2E 工具相比 webdriver 技术栈有着最强的跨平台能力可以测试各种浏览器

<!-- slide -->

## selenium 家族

selenium 家族很庞大，在这里列出其家族成员，主要是为了让大家对其有个初步的认识然后忘记 selenium1.0 家族。

![](https://images0.cnblogs.com/i/311516/201404/091114425599381.jpg)

<!-- slide -->

## selenium IDE

selenium IDE 是嵌入到Firefox浏览器中的一个插件，实现简单的浏览器操作的录制与回放功能。那么什么情况下用到它呢？
快速的创建bug重现脚本，在测试人员的测试过程中，发现了bug之后可以通过IDE将重现的步骤录制下来，以帮助开发人员更容易的重现bug。
IDE录制的脚本可以可以转换成多种语言，从而帮助我们快速的开发脚本，关于这个功能后而用到时再详细介绍。

### selenium Grid

Selenium Grid是一种自动化的测试辅助工具，Grid通过利用现有的计算机基础设施，能加快Web-app的功能测试。利用Grid，可以很方便地同时在多台机器上和异构环境中并行运行多个测试事例。其特点为：
- 并行执行
- 通过一个主机统一控制用例在不同环境、不同浏览器下运行。
- 灵活添加变动测试机
 
### selenium RC

selenium RC 是selenium 家族的核心工具，selenium RC 支持多种不同的语言编写自动化测试脚本，通过selenium RC 的服务器作为代理服务器去访问应用从而达到测试的目的。

selenium RC 使用分Client Libraries和selenium Server，Client Libraries库主要主要用于编写测试脚本，用来控制selenium Server的库。

Selenium Server负责控制浏览器行为，总的来说，Selenium Server主要包括3个部分：Launcher、Http Proxy、Core。其中Selenium Core是被Selenium Server嵌入到浏览器页面中的。其实Selenium Core就是一堆JS函数的集合，就是通过这些JS函数，我们才可以实现用程序对浏览器进行操作。Launcher用于启动浏览器，把

selnium Core加载到浏览器页面当中，并把浏览器的代理设置为Selenium Server 的Http Proxy。

# selenium 2.0

搞清了selenium 1.0 的家族关系，selenium 2.0 是把WebDriver 加入到了这个家族中；简单用公式表示为：
selenium 2.0 = selenium 1.0 + WebDriver 

需要强调的是，在selenium 2.0 中主推的是WebDriver ，WebDriver 是selenium RC 的替代品，因为 selenium 为了向下兼容性，所以selenium RC 并没有彻底抛弃，如果你使用selenium开发一个新自动化测试项目，强列推荐使用WebDriver 。那么selenium RC 与webdriver 主要有什么区别呢？

selenium RC 在浏览器中运行JavaScript应用，使用浏览器内置的JavaScript 翻译器来翻译和执行selenese命令（selenese 是selenium命令集合）。

WebDriver通过原生浏览器支持或者浏览器扩展直接控制浏览器。WebDriver针对各个浏览器而开发，取代了嵌入到被测Web应用中的JavaScript。与浏览器的紧密集成支持创建更高级的测试，避免了JavaScript安全模型导致的限制。除了来自浏览器厂商的支持，WebDriver还利用操作系统级的调用模拟用户输入。


# Appium


# 自动化测试前提

- 稳定的测试环境
- 清晰的报告
- 远离本地



aaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaa
aaaaaaaaaaaa

<!-- slide -->

# TEST

<!-- slide -->

ddd
